<!DOCTYPE html>
<html lang="de">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Harry Potter Quiz</title>
  <link rel="stylesheet" href="main.css"/>
</head>
<body>
  <div id="Overlay" class="overlay"></div>
  <div class="form-container">
    <div class="container" id="popup">
    <p>Diese Website verwendet Cookies, um die bestmögliche Nutzererfahrung zu gewährleisten. Um diese Dienste verwenden zu dürfen, benötigen wir Ihre Zustimmung. <br> Die Einwilligung ist freiwillig und für die Nutzung unserer Website nicht erforderlich.</p>
    <div>
      <button id="cookieDenyButton" class="cookie-button-deny">Ablehnen</button>
      <button id="cookieAcceptButton" class="cookie-button">Akzeptieren</button>
    </div>
  </div>
    <div class="sign-in-container">
      <h2>Quizanmeldung</h2>
      <div class="context-text-box">
        <div class="context-text" >
          <div>
            Hallo und herzlich willkommen zum Harry-Potter-Quiz! Für ein bestmögliches Erlebnis bitten wir dich dieses Quiz <b>am Computer auszufüllen</b>.
            Wir freuen uns, dass du dir die Zeit nimmst und dein Wissen auf die Probe stellen möchtest.
          </div>
          <div>
            Bitte registriere dich hier:
          </div>
        </div>
      </div>
      <div class="form-group-container">
        <div class="form-group-inner">
          <div class="content-group-container">
            <label for="email">Email:</label>
            <input type="text" class="value-input" id="email" name="email" placeholder="Email hier eingeben" required />
          </div>
          <div class="checkbox-container">
            <input class="email-checkbox" type="checkbox" checked="">
            <span class="checkbox-text">Ja, ich möchte über spannende neue Quizze informiert werden!</span>
          </div>
          <div class="send-button-container">
            <input type="button" class="send-button" value="Abschicken!">
            <input type="button" class="subtle-button" id="opt-out" value="Nein, danke">
          </div>
        </div>
        <div class="form-group-inner">
          <form class="form-group-inner">
            <div class="content-group-container">
              <label for="name">Name:</label>
              <input type="text" class="value-input" id="name" name="name" placeholder="Name hier eingeben" required>
            </div>
              <button class="send-button" type="button" onclick= 'start()'>Quiz starten</button>
          </form>
        </div>
      </div>
    </div>
  </div>
  <script src="email-button-controller.js"></script>
  <script>
    const data = [
      {
        name: 'Cookie-Selection',
        description: 'denied?',
        value: false
      },
      {
        name: 'Opt-Out',
        description: 'pressed?',
        value: false
      },
      {
        name: 'Preselection',
        description: 'disbaled?',
        value: false
      },
      {
        name: 'Disguised Ads',
        description: 'clickCount',
        value: 0
      }
    ];

    var cookieElement = document.querySelector(".cookie-button-deny");
    cookieElement.addEventListener("click", () => {
      data[0].value = true;
    });

    var optOutElement = document.querySelector("#opt-out");
    optOutElement.addEventListener("click", () => {
      data[1].value = true;
    });

    var preselectionElement = document.querySelector(".email-checkbox");
    preselectionElement.addEventListener("click", () => {
      data[2]. value = true;
    });

    function start() {
      // Store the data in localStorage
      localStorage.setItem('formData', JSON.stringify(data));

      window.location.href = "question.html"
    }
    
  </script>
</body>
